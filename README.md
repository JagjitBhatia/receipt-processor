# receipt-processor
Implementation of Receipt Processor web service. The service runs on port 8080.

The command to run the receipt-processor app (without container; assumes Go 1.17 installed) is  
`$ go run server.go`

To run the unit tests  
`$ go test --cover ./...`

A dockerfile with go-1.17 on alpine is also provided for convenience.

The commands to build and run the receipt-processor image and container are as follows  
`$ docker build --tag receipt-processor .`  
`$ docker run -d -p 8080:8080 receipt-processor`

---
## Summary of API Specification

### Endpoint: Process Receipts

* Path: `/receipts/process`
* Method: `POST`
* Payload: Receipt JSON
* Response: JSON containing an id for the receipt.

Description:

Takes in a JSON receipt (see example in the example directory) and returns a JSON object with an ID generated by your code.

The ID returned is the ID that should be passed into `/receipts/{id}/points` to get the number of points the receipt
was awarded.

Example Request:

```json
{
  "retailer": "Walmart",
  "purchaseDate": "2022-12-20",
  "purchaseTime": "20:13",
  "items": [
    {
      "shortDescription": "Coca-Cola Soda Soft Drink, 20 fl oz",
      "price": "2.08"
    },{
      "shortDescription": "Takis Rolls Fuego Tortilla Chips 20 oz",
      "price": "4.98"
    }
  ],
  "total": "7.06"
}
```

Example Response:
```json
{ "id": "7fb1377b-b223-49d9-a31a-5a02701dd310" }
```

## Endpoint: Get Points

* Path: `/receipts/{id}/points`
* Method: `GET`
* Response: A JSON object containing the number of points awarded.

A simple Getter endpoint that looks up the receipt by the ID and returns an object specifying the points awarded.

Example Request:
GET `/receipts/7fb1377b-b223-49d9-a31a-5a02701dd310/points`

Example Response:
```json
{ "points": 12 }
```

---



